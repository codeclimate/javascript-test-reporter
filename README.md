# codeclimate-test-reporter

Supplies both a library and a script to send coverage data to Code Climate.

Code Climate - [https://codeclimate.com](https://codeclimate.com)

## Installation

This npm package requires having a user (but not necessarily a paid account) on Code Climate, so if you don't have one the
first step is to create an account at: [https://codeclimate.com](https://codeclimate.com). Then:

1. Generate coverage data in [lcov](http://ltp.sourceforge.net/coverage/lcov/geninfo.1.php) format

      Lcov data can be generated by a number of JavaScript code coverage tools, including [Istanbul](http://gotwarlost.github.io/istanbul).

2. Install codeclimate's NPM package

          $ npm install -g codeclimate-test-reporter

## Usage

### Library

```
var codeclimate = require('codeclimate');
codeclimate(input, repo_token, /*{output: 'stdout'/'callback'},*/ function(err, output));`

```
Outputs :

+ `undefined` : the formated results is sent to codecliamte.
+ `stdout` : the formated results is output in the console, but not sent.
+ `callback` : the formated results is passed to the callback, but not sent.

### script

The script accepts lcov data over standard input.
Specifying your repo token as an environment variable, send lcov coverage data to the codeclimate npm script.

For example, if your coverage data resides in a "lcov.info" file:

```
CODECLIMATE_REPO_TOKEN=ABCD11110000000 codeclimate < lcov.info
```


The `CODECLIMATE_REPO_TOKEN` value is provided after you add your repo to your
Code Climate account by clicking on "Setup Test Coverage" on the right hand side of your feed.

Please contact hello@codeclimate.com if you need any assistance setting this up.

## Contributions

Patches, bug fixes, feature requests, and pull requests are welcome on the
GitHub page for this project: [https://github.com/codeclimate/javascript-test-reporter](https://github.com/codeclimate/ruby-test-reporter)

## Copyright

See LICENSE.txt
